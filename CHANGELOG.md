# 更新日志

所有重要的项目更改都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [2.0.0] - 2025-11-12

### 新增功能 ✨

- **分组管理功能** - 新增分组管理对话框，支持添加、编辑、删除路由分组
  - 提供预设分组快速添加（aliyun、office、devops、lab、debug、backup）
  - 删除分组时自动清空相关路由的分组字段
  - 实时统计分组数量

- **异步加载优化** - 重构数据加载机制，全面支持异步操作
  - ✅ 启动时异步加载网络配置
  - ✅ 刷新路由异步处理（RefreshWorker）
  - ✅ 读取接口异步处理
  - 避免界面卡顿，提升用户体验

- **完善的设置功能** - 新增完整的设置对话框
  - **通用设置**：默认 Metric、持久化选项、自动刷新
  - **接口策略**：默认物理接口、WireGuard 配置
  - **验证设置**：路由命中验证、路由跟踪、超时时间
  - **存储位置**：显示数据存储路径，支持一键打开配置目录

- **优化接口列表显示** - 改进接口信息展示
  - 使用更美观的对话框显示接口列表
  - 增加统计信息和详细描述
  - 使用等宽字体提升可读性

### 改进优化 🎨

- **UI 样式优化**
  - 缩小编辑和删除按钮宽度（从 200px 减至 80px）
  - 统一按钮大小（28x28px）和间距
  - 改进按钮图标和工具提示
  - 描述文字颜色改为白色，提升对比度

- **性能优化**
  - 网关筛选下拉列表使用缓存机制
  - 减少不必要的 UI 刷新
  - 异步加载避免阻塞主线程

### 文档更新 📝

- 新增 `docs/数据存储说明.md` - 详细的数据存储和备份指南
  - 存储位置说明
  - 备份与迁移方法
  - 数据结构文档
  - 常见问题解答
  - 高级用法指南

- 更新 `CHANGELOG.md` - 完整的版本更新日志

### 技术改进 🔧

- 新增 `RefreshWorker` 类用于异步刷新操作
- 优化 `_on_refresh_interfaces` 方法，支持异步处理
- 改进分组树更新逻辑
- 优化异常处理和日志记录

### Bug 修复 🐛

- 修复点击刷新时界面卡死的问题
- 修复读取接口时界面无响应的问题
- 优化异步Worker的信号连接机制

---

## [1.0.0] - 2025-11-11

### 初始版本

- 基础路由管理功能
- Profile 配置管理
- 系统路由查看和操作
- 快照和回滚功能
- 验证功能
- 导入导出支持

---

## 版本说明

### 版本号规则

格式：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 更新类型

- ✨ **新增功能** (Added) - 新添加的功能
- 🎨 **改进优化** (Changed) - 对现有功能的更改
- 🐛 **Bug 修复** (Fixed) - 修复的 Bug
- 🗑️ **废弃功能** (Deprecated) - 即将删除的功能
- ❌ **移除功能** (Removed) - 已删除的功能
- 🔧 **技术改进** (Technical) - 内部技术改进
- 📝 **文档更新** (Documentation) - 文档更新

---

**项目主页：** [NetTLS Route Manager](https://github.com/yourusername/nettls)  
**问题反馈：** [Issues](https://github.com/yourusername/nettls/issues)  
**最后更新：** 2025-11-12
